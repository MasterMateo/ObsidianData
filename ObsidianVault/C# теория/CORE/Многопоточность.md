#CSharp 

Потоки(Thread) нам дает операционная система

*Многопоточность* - способность запускать множество потоков, каждый потом при этом параллельно делает какую-то работу

### Thread ограничения:
 - управление потоками потребляет ресурсы
 - в некоторых случаях распределение по ядрам/процессорам задача не тривиальная
 - Блокировка/синхронизация

## Синхронизация потоков

- Для синхронизации потоков используется конструкция `lock`, она определяет блок кода, внутри которого весь код блокируется и становится недоступным для других потоков до завершения работы текущего потока. Остальный потоки помещаются в очередь ожидания и ждут, пока текущий поток не освободит данный блок кода. (`lock` является синтасическим сахаром применения Monitor.Enter/Monitor.Exit в try...finally)
- Мьютексы - работу по синхронизации выполняют методы `WaitOne()` и `ReleaseMutex()`. Метод `mutexObj.WaitOne()` приостанавливает выполнение потока до тех пор, пока не будет получен мьютекс `mutexObj`. После выполнения всех действий, когда мьютекс больше не нужен, поток освобождает его с помощью метода `mutexObj.ReleaseMutex()`. А мьютекс получает один из ожидающих потоков.
- Семафоры - позволяют ограничить количество потоков, которые имеют доступ к определенным ресурсам. Конструктор принимает два параметра: первый указывает, какому числу объектов изначально будет доступен семафор, а второй параметр указывает, какой максимальное число объектов будет использовать данный семафор. `WaitOne()`: ожидает получения свободного места в семафоре. `Release()`: освобождает место в семафоре

[[Проблемы в многопоточной среде]]