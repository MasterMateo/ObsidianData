#ASPNET 

**Dependency Injection (DI)** — это паттерн, который позволяет передавать зависимости (другие объекты) в класс извне, а не создавать их внутри. Это способствует:
- **Слабой связности** (low coupling),    
- **Тестируемости** (легко подменить зависимости на моки),    
- **Гибкости и расширяемости** (можно внедрять разные реализации интерфейсов).

Типы внедрения зависимостей:
1. Через **конструктор** (наиболее распространённый и рекомендуемый способ в .NET).    
2. Через **метод** (инжекция через параметры метода, используется реже).
3. Через **свойства** (property injection)

При создании приложения на ASP.NET автоматически создается IoC-контейнер (представлен `IServiceProvider`). (в контейнере лежит коллекция из всех добавленных интерфейсов + встроенные ILogger и тд)

Такие контейнеры служат своего рода фабриками, которые устанавливают зависимости между абстракциями и конкретными объектами и, как правило, управляют созданием этих объектов.

Регистрация сервисов в DI Container может производиться с различным "временем жизни"

Варианты:
- Singleton - за все время жизни приложения сервис будет инстанцирован 1 раз(если состояние необходимо хранить на все время жизни приложения)
- Scoped - инстанцируются 1 раз на все время выполнения Http-запроса(если состояние необходимо хранить в рамках запроса)
- Transient - каждый раз при обращении к нему создается новый инстанс (для создания легковесных сервисов)

Хорошая практика сначала все зависимости сделать все зависимости Transient, а потом, если нужно, повышать время жизни!