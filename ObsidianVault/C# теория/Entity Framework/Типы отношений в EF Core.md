#EF 

Для связей между сущностями в Entity Framework Core применяются внешние ключи и навигационные свойства

### One to One Relationship
Отношение один к одному предполагает, что главная сущность может ссылаться только на один объект зависимой сущности. В свою очередь, зависимая сущность может ссылаться только на один объект главной сущности.
"У каждой книги есть свой вес"
![[Pasted image 20231012105833.png]]

### One to Many Relationship
"У автора может быть много книг"
Отношение один-ко-многим (one-to-many) представляет ситуацию, когда одна сущность хранит ссылку на один объект другой сущности, а вторая сущность может ссылаться на коллекцию объектов первой сущности
![[Pasted image 20231012110232.png]]

### Many to Many Relationship
Отношение многие-ко-многим (many-to-many) представляет связь, при которой объект одной сущности может ссылаться на множество объектов второй сущности, а объект второй сущности, в свою очередь, может ссылаться на множество объектов первой сущности.
"У книги может быть больше 1-го автора"
![[Pasted image 20231012110847.png]]

![[Pasted image 20231014120536.png]]

В классе `ApplicationDbContext` переопределяем метод `OnModelCreating`:
![[Pasted image 20231014123426.png]]
Это означает, что ключ от таблицы `Author` так же является ключом к таблице `BookAuthor`

![[Pasted image 20231014123607.png]]

Таким образом мы добавляем составной ключ, который будет комбинацией ключей таблиц `Author` и `Book` (Author_Id и Book_Id)

![[Pasted image 20231014125140.png]]

Далее указываем в классе `BookAuthor` что эти два ключа внешние

Summary
![[Pasted image 20231014125411.png]]