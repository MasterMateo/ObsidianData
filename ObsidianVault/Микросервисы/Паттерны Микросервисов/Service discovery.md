#MSPatterns 

Если есть клиент и есть сервис, который падает, можно запускать динамически дополнительные сервисы для того, чтобы все запросы обрабатывались
[[dynamicServices]]

Есть два способа его реализовать:
1. Service discovery на уровне приожения - в каждом сервисе есть библиотека для "Service discovery" и есть отдельный сервис "Service registry". Как только новый сервис стартует он сообщает "Service registry" свой айпи и просит себя зарегать
	[[AppServiceDiscovery]]	
	
> [!info]-  Особенности
> Тут больше возможностей повлиять на Service discovery(балансировать нагрузку, влиять на выбор и тд)
> Service discovery разворачивается вместе с платформой(k8s, Docker и тд)
> НО если сервис написан на разных языках, нужно написать библиотеку под каждый из них

==Отличный подход когда мигрируете с монолита на микросервисы("отпиленные" сервисы используют  Service discovery на уровне платформы, но оставшийся монолит должен реализовывать Service discovery на уровне приожения)==
2. Service discovery на уровне платформы - сервис после старта регистрируется "регистратором" (который относится к платформе) в "Service registry". Клиент при этом обращается к сервису по его доменному имени, платформа обращается к "Service registry" и выдает IP адресс
	[[PlatformServiceDiscovery]]

> [!info]-  Особенности
> Обязанность по регистрации сервисов теперь лежит на деплой платформе (k8s)
> НО переехать с одной платформы на другую не получится
> Возможности ограничены возможностями платформы(k8s)



