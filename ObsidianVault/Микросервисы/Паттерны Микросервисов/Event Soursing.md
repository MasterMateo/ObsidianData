#MSPatterns 

**Event sourcing** — это архитектурный шаблон, при котором все изменения, вносимые в состояние приложения, сохраняются в той последовательности, в которой они происходили. Эти записи служат как источником для получения текущего состояния, так и журналом аудита того, что происходило в приложении за время его существования.

События записываются в последовательный журнал, из которого эти события достаются и обрабатываются системой в порядке их возникновения.

### Способы реализации

1. В реляционной БД можно реализровать с помощью двух таблиц: одна для хранения фактического журнала событий, сохраняющая одну запись для каждого события, а другая для хранения источников событий. Номер версии хранится вместе с каждым событием в таблице событий в виде автоматически увеличивающегося целого числа.(в PostgreSQL можно записывать и считывать события транзакциями)
2. Популярное NoSQL-решение - Redis. Redis поддерживает потоковый тип данных (Streams), который позволяет добавлять новые события в поток, гарантируя, что они будут упорядочены и сохранены последовательно. Redis Streams поддерживает несколько потребителей, что позволяет различным компонентам или службам использовать события из одного и того же потока. При использовании Redis Streams в качестве хранилища событий можно хранить данные событий вместе с любыми необходимыми метаданными.(тип события , отметка времени и тд)