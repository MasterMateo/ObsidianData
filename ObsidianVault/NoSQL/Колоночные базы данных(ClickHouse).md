#NoSQL

__ClickHouse__ - распределенная аналитическая столбцовая(колоночная) СУБД

Создан для работы с непрекращающимся потоком данных в режиме реального времени

Колоночные бд хранят данные не в строках, а в колонках. Каждая колонка - это как бы отдельная таблица из одной колонки, которая хранит только свои значения

> [!info]-  Разница выполнения запросов
> При выполнении запроса в строковой СУБД будет проверяться каждая строка в таблице, на предмет совпадения значения(например SELECT * FROM table WHERE color=12). Это может быть затратно, если таблица большая. В колоночной бд достаточно просто пробежаться по значениям в 1 колонке(color), чтобы найти нужные данные

Все данные в колоночной БД обычно хранятся в отсоритрованном виде(каждая колонка отдельно), чтобы СУБД знала какое значение в какой строке находится, каждая запись имеет свой номер
![[Pasted image 20240121134400.png]]

Между колонками нет физической связи, это отдельные файлы на диске, это ускоряет запросы к данным и упрощает процесс сжимания

В __ClickHouse__ доступно ==семплирование==, то есть можно проверить запрос на части данных, чтобы получить приблизительную аналитическую картину

## Трудности использования:

1. Нет транзакций и блокировок
2. Сложность "точечной" работы
3. Высокие требования к оперативной памяти сервера
4. Возможность атак при передаче данных по HTTP