#SystemDesign 

### Strong Consistency
Любая операция чтения из любого узла базы данных вернет последнюю операцию. Достигается за счет синхронной репликации

 **Синхронная** [[sync-replication]]
 1. Запись транзакции в журнал
 2. Применение транзакции в движке
 3. Отправка данных на все реплики
 4. Получение подтверждения от всех реплик
 5. Возвращение подтверждения клиенту

>Работает медленно, но данные консистентны!

### Eventual Consistency
В отсутствии изменения данных, через какой-то промежуток времени после последнего обновления ("в конечном счете") все запросы будут возвращать последнее обновленное значение. Достигается путем асинхронной репликации

**Асинхронная** [[async-replication]]
1. Запись транзакции в журнал локально
2. Применение транзакции в движке
3. Возвращение подтверждения клиенту
4. Отправка данных на реплики (асинхронно пачками)

> Работает быстро, но можно получить [[Replication Lag]]

**Полусинхронная репликация** [[semisync-replication]]
1. Запись транзакции в журнал
2. Применение транзакции в движке
3. Отправка данных на реплики
4. Получение подтверждения от реплики о получении изменений (применены они будут "когда-то потом")
5. Возвращение подтверждения клиенту

**Lose - less semisync** [[semisync-replication]]
1. Запись транзакции в журнал
2. Отправка данных на реплики
3. Получение подтверждения от реплики о получении изменений ( применены они будут "когда-то потом")
4. Применение транзакции в движке
5. Возвращение подтверждения клиенту