#SQL 

В PostgreSQL существует несколько видов сканирования, которые определяют, как сервер базы данных получает данные из таблиц. Вот основные типы сканирования:

1. **Sequential Scan** (Последовательное сканирование)
    
    - Описание: Сканирование происходит по всей таблице, и каждая строка проверяется на соответствие условиям запроса.
    - Применение: Последовательное сканирование эффективно для небольших таблиц или для запросов, которые возвращают значительную часть таблицы, так как накладные расходы на чтение индекса могут быть выше, чем чтение самой таблицы.
    - Примеры: Используется, когда в таблице нет подходящего индекса или если запрос не может воспользоваться индексом (например, когда выполняются функции над столбцами, что делает их нечитаемыми для индекса).
2. **Index Scan** (Сканирование по индексу)
    
    - Описание: Используется индекс для поиска значений, удовлетворяющих условиям запроса. После нахождения в индексе нужных значений PostgreSQL переходит к таблице для чтения соответствующих строк.
    - Применение: Применяется, когда запрос затрагивает небольшую часть данных, а также когда условия запроса соответствуют индексированным столбцам.
    - Примеры: Подходит для точечного поиска или выборок по диапазонам (например, `WHERE column = value` или `WHERE column BETWEEN low AND high`).
3. **Index Only Scan** (Только индексное сканирование)
    
    - Описание: В отличие от обычного Index Scan, здесь PostgreSQL получает данные только из индекса, не обращаясь к основной таблице.
    - Применение: Эффективно, когда все запрашиваемые столбцы содержатся в индексе. Подходит, когда данные в таблице не обновляются часто, так как для использования этого типа сканирования индекс должен быть актуален.
    - Примеры: Используется, когда запрос требует данных, которые содержатся только в индексе, например `SELECT column FROM table WHERE indexed_column = value`.
4. **Bitmap Index Scan** (Битовая карта для индексов)
    
    - Описание: Создается битовая карта для хранения строк, которые соответствуют условиям, найденным в индексе. Затем PostgreSQL сканирует таблицу, читая блоки данных с учетом битовой карты.
    - Применение: Эффективно для запросов, возвращающих большой объем данных из таблицы, когда последовательное чтение менее эффективно, чем индексное.
    - Примеры: Полезно при запросах с условиями на несколько индексов или диапазонных запросах, таких как `WHERE column1 = value1 AND column2 = value2`.
5. **Tid Scan** (Сканирование по TID)
    
    - Описание: Использует ссылку на конкретное место хранения строки в таблице, известное как TID (Tuple ID).
    - Применение: Редко применяется в пользовательских запросах. Tid Scan полезен в административных или низкоуровневых задачах, таких как удаление или обновление данных по конкретному физическому положению строки.
    - Примеры: Применяется, когда есть информация о конкретном TID, которая может быть получена, например, из другой команды.

### Когда использовать каждый тип:

- **Последовательное сканирование** хорошо подходит для небольших таблиц или если необходимо просканировать большую часть данных.
- **Индексное сканирование** – для выборочных запросов по условию, если в таблице есть подходящий индекс.
- **Только индексное сканирование** работает быстрее при выборке данных, полностью содержащихся в индексе, особенно на часто читаемых и редко изменяемых данных.
- **Bitmap Index Scan** полезен для сложных условий с несколькими столбцами и диапазонами, где одно индексное сканирование будет неэффективным.
- **Tid Scan** применяется редко и обычно только в специфических системных задачах.

Эти типы сканирования помогают оптимизировать запросы в зависимости от структуры данных и специфики запросов, выбирая наиболее подходящий метод для извлечения информации.