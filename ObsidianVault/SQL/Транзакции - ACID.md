#SQL 

Транзакция – это единица работы в рамках соединения с базой данных.

Имеет ДВА состояния:
• Выполняется полностью – commit
• Откатывается полностью – rollback


Deferrable transaction - когда мы констрейнты для транзакций выполняем в конце, после выполнения операций 

## ACID - стандарт

Свойства, которыми должна обладать каждая транзакция БД:
- Atomicity - атомарность - транзакция выполняется либо целиком, либо не выполняется
- Consistency - согласованность - Все операции, связанные с БД переводят ее из одного согласованного состояние в другое. Все пройдет как надо и БД останется консистентна
- Isolation - транзакция выполняется независимо. Ее промежуточные результаты не должны быть доступны другим транзакциям
- Durability - устойчивость - если транзакция выполнена успешно, ее результаты должны быть сохранены вне зависимости от сбоев

## Уровни изолированности транзакций
 — условное значение, определяющее, в какой мере в результате выполнения логически параллельных транзакций в СУБД допускается получение несогласованных данных.
[[Проблемы параллельных транзакций]]

![[Pasted image 20231215111304.png]]

1. Чтение неподтврежденных данных(read uncommited) - Нет гарантии, что данные, измененные другими транзакциями, не будут в любой момент изменены в результате их отката
2. Чтение подтсвержденных данных(read commited) - чтение всех изменений своей транзакции и зафиксированных изменений параллельных транзакций
3. Повторяемость чтения(repeatable read) - чтение всех изменений своей транзакции, любые изменения, внесенные параллельными транзакциями после начала своей, недоступны
4. Упорядочиваемость(serializable) - Проблемы синхронизации не возникают.
